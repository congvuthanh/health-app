---
alwaysApply: false
---

*My Page*

**Functional-Requirements**
- Routing path must be「/myPage」
- If the user is not authenticated or authentication has failed, the screen will be displayed as "Authentication failure display” (defined in ./authenticate-failed-page-specs.mdc)

**Header**
- The number of unread notifications should be displayed as a badge in the 「お知らせ(notification)」 section of the menu.
- If the number of unread notifications is 0, the badge should not be displayed.
- Each menu item should be implemented as a link and href="#" should be set.

**Dropdown Menu「≡」**
- Clicking the trigger「≡」 will display the menu
- While the Menu is being displayed, switch the trigger to the「x」icon.
- While the Menu is displayed, the Menu must be closed by the following operations
  - Press the “esc” key.
  - Click on the「x」icon.
  - Click outside the menu.
- When「ログアウト(logout)」is clicked, the logout process shall be executed and the user shall be redirected to the top page.
- Other menu items should be implemented as links and href="#" should be set

**「本日の達成率(achievement)」 in the upper left corner**
- Fetch 「本日の達成率(achievement)」 data from API and display the following:
  - Date of data registration
  - Image of the meal
  - Achievement rate
  - Circular indicator according to the achievement rate

**「体重・体脂肪率の記録(health-record)」in the upper right corner**
- Retrieve「体重・体脂肪率(health-record)」 data from the API and display the line graph with the most recent date at the far right.
- Clicking the "Day," "Week," "Month," or "Year" button will change the display range and display a graph that corresponds to that range.
  - Each data can be retrieved by setting the time period as a request parameter to the API.
- The initial value of the filter should be "Year".
- The data retrieved by each filter should be kept in the cache of the front-end and displayed from the cache for the second and subsequent requests.

**「食事の記録(meal-record)」 at the bottom of the page**
- Retrieve 「食事の記録(meal-record)」 data from the API and display them in order of newest to oldest from the top left (default is 8 items)
- When the user scrolls near the bottom of the 「食事の記録(meal-record)」list, additional content is automatically loaded (infinite scrolling)
- All「食事の記録(meal-record)」data should be retrieved, and paging requests should not be invoked when there is no more data to be retrieved additionally.

**「スクロール(scroll)」Button in the bottom right**
- Fixed display at the bottom right of the screen, and click to scroll to the top of the screen
- If the entire screen cannot be scrolled, it should not be displayed.


**Design-Requirements**
- The header, 「食事の記録(meal-record)」, and footer should have a common maximum width, and if the device width is large, there should be margins on the left and right sides.
- 「栄養達成率(achievement)」and「体重・体脂肪グラフ(health-record)」 should be displayed at the same height and fill the entire width of the screen.
- The color of the line in the 「体重・体脂肪グラフ(health-record)」 should be yellow for weight and blue for body fat percentage.
- Clickable elements should be visually obvious when hovering.
- Consider the accessibility of each element.


**Abnormal-System-Handling**
- During API data loading, the loading status should be indicated by text or UI.
- When data acquisition fails, an error message is displayed by text or UI.
- Regarding abnormality response, the design is not important as long as the content can be determined.


**Supplements about API**
- In case of discrepancies between the API data and the design mockup/specifications, the API data takes priority.